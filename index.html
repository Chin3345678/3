<body>
  <div class="container">
    <div id="intro" class="intro">
      <h2>ğŸš—ğŸ’¨ä¸€å ´å®¶æ—æ—…è¡Œå³å°‡å±•é–‹âœ¨ğŸ§³</h2>
      <button id="startButton">é–‹å§‹æ—…è¡Œ</button>
    </div>

    <div id="quiz" style="display:none;">
      <h2 id="scenarioText">Loading...</h2>
      <div id="options"></div>
      <div class="buttons">
        <button id="nextButton" disabled>ä¸‹ä¸€å€‹æƒ…å¢ƒ</button>
        <button id="finishButton" style="display:none;">å®Œæˆæ¸¬é©—</button>
      </div>
    </div>

    <div id="result" class="result" style="display:none;">
      <h2 id="resultTitle"></h2>
      <img id="characterImage" src="" alt="è§’è‰²åœ–ç‰‡" />
      <p id="resultDescription"></p>
      <button id="restartButton">é‡æ–°æ¸¬é©—</button>

      <!-- âœ… åˆ†äº«å¡ç‰‡ï¼ˆæœƒè¢«è½‰æˆåœ–ç‰‡ï¼‰ -->
      <div id="shareCard" style="margin-top: 20px; background-color: white; padding: 16px; border-radius: 12px; max-width: 320px; text-align: center;">
        <img id="shareImage" src="" style="width: 100%; border-radius: 8px;" />
        <p id="shareText" style="font-size: 16px; font-weight: bold; margin-top: 8px;"></p>
        <p style="font-size: 14px; color: gray;">ğŸ”— https://chin3345678.github.io/2/</p>
      </div>

      <!-- âœ… ä¸‹è¼‰æŒ‰éˆ• -->
      <button id="saveButton" style="margin-top: 16px; background-color: #E1306C; color: white; padding: 10px 20px; border: none; border-radius: 8px;">
        ğŸ“¥ ä¸‹è¼‰åœ–ç‰‡åˆ†äº«åˆ° IG é™æ™‚
      </button>

      <!-- Line åˆ†äº« -->
      <div style="margin-top: 16px;">
        <a id="lineShareButton" target="_blank"
           style="display: inline-block; background-color: #00c300; color: white; padding: 10px 20px; border-radius: 8px; text-decoration: none; font-weight: bold; margin-left: 8px;">
           åˆ†äº«åˆ° Line
        </a>
      </div>
    </div>
  </div>

  <!-- âœ… éœ€è¦ html2canvas å¥—ä»¶æ”¯æ´ä¸‹è¼‰åœ–ç‰‡ -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>

  <script src="script.js"></script>

  <!-- âœ… åŠ å…¥ä¸‹è¼‰åŠŸèƒ½ -->
  <script>
    document.getElementById("saveButton").addEventListener("click", function () {
      html2canvas(document.getElementById("shareCard")).then(function (canvas) {
        const link = document.createElement("a");
        link.download = "MBTI_æ¸¬é©—çµæœ.png";
        link.href = canvas.toDataURL("image/png");
        link.click();
      });
    });
  </script>
</body>
